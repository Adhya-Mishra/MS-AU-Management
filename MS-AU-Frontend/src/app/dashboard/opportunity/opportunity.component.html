
<div class="mat-elevation-z8" >
  <button mat-raised-button color="accent" class="addbtn" id="#CreateOpportunity" (click)="openAddDialog()" style="text-align: center;"> Create Opportunity </button> 
  <table mat-table [dataSource]="dataSource"  matSort>
      
      <ng-container matColumnDef="opportunityId">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>  Id </th>
        <td mat-cell *matCellDef="let element"> {{element.opportunityId}} </td>
      </ng-container>
 
      <ng-container matColumnDef="description">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> description </th>
        <td mat-cell *matCellDef="let element"> {{element.description}} </td>
      </ng-container>
      <ng-container matColumnDef="location">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> location </th>
        <td mat-cell *matCellDef="let element"> {{element.location}} </td>
      </ng-container>
      <ng-container matColumnDef="skills">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Skills </th>
        <td mat-cell *matCellDef="let element"> {{element.skills}} </td>
      </ng-container>
      <ng-container matColumnDef="exp">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Min. Exp. </th>
        <td mat-cell *matCellDef="let element"> {{element.exp}} </td>
      </ng-container>
          

      <ng-container matColumnDef="demand">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Demand </th>
        <td mat-cell *matCellDef="let element"> {{element.demand}} </td>
      </ng-container>
      <ng-container matColumnDef="userId">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>  User Id</th>
        <td mat-cell *matCellDef="let element"> 1</td>
      </ng-container>
      <ng-container matColumnDef="date">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> End Date </th>
        <td mat-cell *matCellDef="let element"> {{element.date}} </td>
      </ng-container>
      <ng-container matColumnDef="getdetails">
        <th mat-header-cell *matHeaderCellDef> Actions </th>
        <td mat-cell *matCellDef="let element"  style="padding-right: 0px;"> 
          <button class="delbtn" mat-fab color="accent"   (click)="opendeditDialog(element)" aria-label="Example icon button with a Edit icon">
            <mat-icon class="iconeditbtn">Edit</mat-icon>
          </button>
          <button class="delbtn2" mat-fab color="warn"   (click)="opendelDialog(element)" aria-label="Example icon button with a delete icon">
          <mat-icon  class="icondelbtn" >Del</mat-icon> 
          </button> 
          
        </td>
      </ng-container>
  
      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
  </table>
  <mat-paginator [pageSizeOptions]="[ 5, 10, 20, 50, 100]" showFirstLastButtons></mat-paginator>
</div>
 
<!--Create Oportunity Form  -->
<ng-template #AddForm >
  
  <div class="example-container">
    <form [formGroup]="myform"  role='form' name='blogPost' novalidate="">
        
        <input type="hidden"  formControlName="opportunityId" id="oppid">
        <h3 id="titile" style="font-family: Georgia, 'Times New Roman', Times, serif; font-style: normal; font-size: 20px;"> Create Opportunity </h3>
        <hr>
        <table class="tabletd">
            <tr>
              <td style="padding-right: 40px;">
                <mat-form-field appearance="legacy">
                  <mat-label>Description</mat-label>
                  <textarea matInput   maxlength="256" rows=1 style="resize:  none;" id="description" required formControlName="description" [errorStateMatcher]="matcher"> </textarea>
                </mat-form-field>
              
              </td>
            </tr>
            <tr>
              <td  style="padding-right: 40px;">
                <mat-form-field appearance="legacy">
                  <mat-label>Location</mat-label>
                  <input matInput formControlName="location" required>
                </mat-form-field>
               
              </td>
            </tr>
            <tr>
              <td>
                <mat-form-field appearance="legacy">
                  <mat-label>Skills</mat-label>
                  <input matInput formControlName = "skills" required>
                </mat-form-field>
               
              </td>
            </tr>
              <tr>

             
              <td>
                <mat-form-field color="legacy">
                  <mat-label>End Date</mat-label>
                  <input matInput [min]="minDate"  type="date" required formControlName = "date" [disabled]="true">
              
                </mat-form-field>
               
              </td>
            </tr>
            <tr>
              <td  style="padding-right: 40px;">
                <mat-form-field appearance="legacy">
                  <mat-label>Demand</mat-label>
                  <input matInput type="number"  min="0" formControlName = "demand" required>
                  </mat-form-field>
                  
              </td>
            </tr>
              <tr>
              <td>
                <mat-form-field appearance="legacy">
                  <mat-label>Experience</mat-label>
                  <input matInput type="number" min="0" formControlName = "exp" required>
                </mat-form-field>
               
              </td>
            </tr>
        </table>
        
        <div id="btnDiv">
          <button mat-raised-button color="warn" style="margin-right:40px;" (click)="onCancel('Add')">Cancel</button>
          <button mat-raised-button color="accent" [disabled]="!myform.valid" (click)="onSubmit(myform.value)">Save</button>
        </div>
    </form>
  </div>
</ng-template>


<!-- Edit Form  -->
<ng-template #EditForm>
  <div class="example-container">
      <form [formGroup]="myform"  role='form' name='blogPost' novalidate="">
      
       <input type="hidden"  formControlName="opportunityId" id="oppid">
       <h3 id="titile" style="font-family: Georgia, 'Times New Roman'; font-style: normal; font-size: 20px;"> Edit Opportunity </h3>
       <hr>
       <table class="tabletd">
           <tr>
             <td style="padding-right: 40px;">
               <mat-form-field appearance="legacy">
                 <mat-label>Description</mat-label>
                 <textarea matInput   maxlength="256" rows=1 style="resize:  none;" id="description" required formControlName="description" [errorStateMatcher]="matcher"> </textarea>
               </mat-form-field>
             
             </td>
            </tr>
           

           <tr>
             <td  style="padding-right: 40px;">
               <mat-form-field appearance="legacy">
                 <mat-label>Location</mat-label>
                 <input matInput formControlName="location" required>
               </mat-form-field>
              
             </td>
            </tr>
            <tr>
             <td>
               <mat-form-field appearance="legacy">
                 <mat-label>Skills</mat-label>
                 <input matInput formControlName = "skills" required>
               </mat-form-field>
               
             </td>
           </tr>

           <tr>
             <td  style="padding-right: 40px;">
               <mat-form-field appearance="legacy">
                 <mat-label>Demand</mat-label>
                 <input matInput type="number" min="0" formControlName = "demand" required>
                 </mat-form-field>
                 
             </td>
           </tr>
           <tr>
             <td>
               <mat-form-field appearance="legacy">
                 <mat-label>Min. Experience</mat-label>
                 <input matInput type="number" min="0" formControlName = "exp" required>
               </mat-form-field>
              
             </td>
           </tr>
       </table>
       
       <div id="btnDiv">
        <button mat-raised-button color="warn" style="margin-right:40px;" (click)="onCancel('Edit')">Cancel</button>
        <button mat-raised-button color="accent" [disabled]="!myform.valid" (click)="onEdit(myform.value)">Update</button>
       </div>
      </form>
  </div>
</ng-template>

<!-- Del Opportunity Form  -->
<ng-template #DelForm style=" color: white; text-shadow: 1px 1px 2px black, 0 0 25px blue, 0 0 5px rgb(55, 14, 102);">
    <div mat-dialog-content> 
        <h2> Do yout really want to delete this opportunity? </h2> 
    </div>
    <div mat-dialog-actions align="end">
      <button mat-button [mat-dialog-close] mat-raised-button color="warn"  (click)="no()" >No</button>
      <button mat-button [mat-dialog-close] mat-raised-button color="primary" (click)="yes()">Yes</button>
    </div>
</ng-template>



<ng-template #snackBarTemplate>
  <h2>parent component</h2>   
</ng-template>